<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:bibi="http://xmlns.jcp.org/jsf/composite/bibi">

	<h:panelGroup layout="block"
		styleClass="header container-fluid p-3 d-flex border-bottom justify-content-center justify-content-lg-between">

		<h:panelGroup layout="block" styleClass="information me-5">

			<!-- TASK: replace this mechanism with a separate facelet streaming binary data -->
			<!-- <h:graphicImage
					value="data:image/png;base64,#{header_.applicationBase64Logo}"/> -->

			<!-- <h:outputText value="#{header_.application.name}" styleClass="h2" /> -->
			<!-- @Temporary -->
			<h:outputText value="bibliothekssystem" styleClass="h2" />

		</h:panelGroup>

		<h:panelGroup layout="block" styleClass="menu nav">

			<h:graphicImage library="icons" name="question-mark-circle.svg"
				styleClass="display-help nav-link" />

			<h:panelGroup layout="block" styleClass="help">

				<h:panelGroup layout="block" styleClass="public">
						#{msg['help.'.concat(page).concat('.public')]}
					</h:panelGroup>

				<h:panelGroup layout="block" styleClass="account"
					rendered="#{header_.showingAccountHelp()}">
						#{msg['help.'.concat(page).concat('.account')]}
					</h:panelGroup>

				<h:panelGroup layout="block" styleClass="staff"
					rendered="#{header_.showingStaffHelp()}">
						#{msg['help.'.concat(page).concat('.staff')]}
					</h:panelGroup>

				<h:panelGroup layout="block" styleClass="admin"
					rendered="#{header_.showingAdminHelp()}">
						#{msg['help.'.concat(page).concat('.admin')]}
					</h:panelGroup>

			</h:panelGroup>

			<h:form id="form_log_out" rendered="#{header_.showingLogOut()}"
				styleClass="nav-item">
				<h:commandLink id="button_log_out" value="#{msg['log_out']}"
					action="#{header_.logOut()}" styleClass="nav-link" />
			</h:form>
 
			<h:outputLink value="/BiBi/view/staff/lending.xhtml"
				rendered="#{header_.showingLending()}"
				styleClass="nav-link #{page == 'lending' ? 'active' : ''}">
				#{msg['lending']}
			</h:outputLink>

			<h:outputLink value="/BiBi/view/staff/return-form.xhtml"
				rendered="#{header_.showingReturnForm()}"
				styleClass="nav-link #{page == 'return_form' ? 'active' : ''}">
				#{msg['return_form']}
			</h:outputLink>

			<h:outputLink
				value="/BiBi/view/staff/copies-ready-for-pickup-all-users.xhtml"
				rendered="#{header_.showingCopiesReadyForPickupAllUsers()}"
				styleClass="nav-link #{page == 'copies_ready_for_pickup_all_users' ? 'active' : ''}">
				#{msg['copies_ready_for_pickup_all_users']}
			</h:outputLink>

			<h:outputLink value="/BiBi/view/staff/medium-creator.xhtml"
				rendered="#{header_.showingMediumCreator()}"
				styleClass="nav-link #{page == 'medium_creator' ? 'active' : ''}">
				#{msg['medium_creator']}
			</h:outputLink>

			<h:outputLink
				value="/BiBi/view/account/profile.xhtml?id=#{userSession.user.id}"
				rendered="#{header_.showingProfile()}"
				styleClass="nav-link #{page == 'profile' ? 'active' : ''}">
				#{msg['profile']}
				</h:outputLink>

			<h:outputLink value="/BiBi/view/admin/administration.xhtml"
				rendered="#{header_.showingAdministration()}"
				styleClass="nav-link #{page == 'administration' ? 'active' : ''}">
				#{msg['administration']}
			</h:outputLink>

			<h:outputLink value="/BiBi/view/public/login.xhtml"
				rendered="#{header_.showingLogin()}"
				styleClass="nav-link #{page == 'login' ? 'active' : ''}">
				#{msg['log_in']}
			</h:outputLink>

			<h:outputLink value="/BiBi/view/public/registration.xhtml"
				rendered="#{header_.showingRegistration()}"
				styleClass="nav-link #{page == 'registration' ? 'active' : ''}">
				#{msg['register']}
			</h:outputLink>

			<h:outputLink value="/BiBi/view/public/medium-search.xhtml"
				styleClass="nav-link #{page == 'medium_search' ? 'active' : ''}">
				#{msg['advanced_search']}
			</h:outputLink>

			<h:form id="form_medium_search" action="#{header_.searchMedium()}" styleClass="">
				<h:inputText id="input_medium_search"
					value="#{header_.mediumSearch.generalSearchTerm}" styleClass="nav-item" />
			</h:form>

		</h:panelGroup>

	</h:panelGroup>

	<h:messages globalOnly="true" showDetail="false"
		styleClass="message global" infoClass="info" warningClass="warning"
		errorClass="error" />

</ui:composition>