<?xml version="1.0" encoding="utf-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
				xmlns:bibi="http://xmlns.jcp.org/jsf/composite/bibi"
				template="/view/templates/template.xhtml">
	<!-- Author Jonas Picker-->
	
	<!--  <f:metadata>
    	<f:viewAction action="#{login.redirectWhenLoggedIn}" />
	</f:metadata>-->
	

	<ui:param name="page" value="login"/>

	<ui:define name="content">
	<h1>#{msg['login.headline']}</h1>
		<br></br>
		<br></br>

		<h:outputText id="login_already_logged_in" 
					rendered="#{not login.renderLogin()}"
					styleClass="alert alert-warning" 
					value="#{msg['login.already_logged_in']}"/>
		
		<h:form id="login_form" rendered="#{login.renderLogin()}">
		<h:panelGrid id = "panel" columns = "3" border = "0" cellpadding = "10"  
               cellspacing = "1">

			<h:outputLabel for="login_email_field" 
							value="#{msg['login.email']}"/>
			<h:inputText id="login_email_field" type="text"
						 value="#{login.userData.emailAddress}" required="true">
			</h:inputText>
			<h:message id="login_email_message" for="login_email_field" 
						style="color:red"/>


			<h:outputLabel for="login_password_field"
							value="#{msg['login.password']}"/>
			<h:inputSecret id="login_password_field" type="text" 
						styleClass="" value="#{login.userData.passwordHash}">
			</h:inputSecret>
			<h:message id="login_password_message" for="login_password_field" 
						style="color:red"/>
		
			<h:commandButton id="login_login_button" 
							value="#{msg['login.log_in']}" 
							action="#{login.logIn()}" 
							styleClass="btn btn-primary"/>
			<h:commandButton id="login_reset_password_button" 
							value="#{msg['login.reset_password']}" 
							action="#{login.resetPassword()}" 
							styleClass="btn btn-secondary"/>

		
		</h:panelGrid>
		</h:form>
        

	</ui:define>

</ui:composition>
