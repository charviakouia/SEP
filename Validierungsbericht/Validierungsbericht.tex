
% !TeX spellcheck = de_DE
\documentclass{article}

\usepackage[ngerman]{babel}
\usepackage{graphicx}
\usepackage{float}
\usepackage{booktabs}
\usepackage{lscape}
\usepackage{longtable}
\usepackage{geometry}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{hyperref}

\graphicspath{ {./images/} }
\setlength\parindent{0pt}

\setlength\LTleft{0pt}
\setlength\LTright{0pt}

\makeatletter
\newcommand{\sectionauthor}[1]{
	{\parindent 0em \large \scshape Autor: #1 \par \nobreak \vspace*{1em}}
	\@afterheading
}
\newcommand{\specification}[3]{
	{\parindent 0.5em \hangindent 3em \hypertarget{spec:#1:#2}{\textbf{/#1#2/}} #3 \par \nobreak \vspace*{0.5em}}
}
\makeatother

\title{BiBi - Validierungsbericht}
\date{\today\\v1.0}
\author{
	Ivan Charviakou\\
	León Liehr\\
	Jonas Picker\\
	Sergei Pravdin
}

\begin{document}

%--Titel----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
\maketitle
\begin{figure}[H]
	\centering
	\includegraphics[width = 30em]{Logo}
\end{figure}
\newpage
\tableofcontents
\newpage

%--Einleitung--------------------------------------------------------------------------------------------------------------------------------------------------------------------------
\section{Einleitung}
\sectionauthor{Sergei Pravdin}
In diesem Dokument ist der Validierungsbericht der Webanwendung \textbf{BiBi} dokumentiert. Dabei erfolgt die \textbf{Änderungen der Tests gegenüber dem Pflichtenheft}. Außerdem sind die \textbf{Zusätzliche Tests}, die \textbf{Testergebnisse} und die \textbf{Überdeckungswerte} zu sehen.


%--Änderungen-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
\section{Änderungen gegenüber dem Pflichtenheft}
\sectionauthor{Sergei Pravdin}

Seit der Erstellung des Pflichtenheftes wurde das System modifizert. Aufgrund kleinerer Änderungen, wie z.B. einer komfortableren Navigation im System, sowie anders benannten Seiten oder Abschnitten, wurden auch die Testfälle aktualisiert. Einige Tests sind irrelevant, da die Aufgabe reduziert wurde. Es wurden jedoch neue Tests für Sicherheitstests sowie ein Datenbank-Cleaner hinzugefügt, der alle von den Tests erzeugten Objekte entfernt.

\newgeometry{left=0cm,right=0cm,top=0cm,bottom=2cm}
\begin{figure}[h]
    \centering
    \includegraphics{tab1-1}
\end{figure}
\restoregeometry

\newpage

\newgeometry{left=0cm,right=0cm,top=0cm,bottom=2cm}
\begin{figure}[h]
    \centering
    \includegraphics{tab1-2}
\end{figure}
\restoregeometry

\newpage

%--Zusatztests-------------------------------------------------------------------------------------------------------------------------------------------------------------------------
\section{Zusätzliche Tests}
\sectionauthor{Jonas Picker}
\subsection{HTML-Outputvalidierung}
Aus dem Facelet-Code unserer Anwendung wird vom JSF-Framework beim Endnutzer anzeigbarer HTML-Code generiert. Dieser wurde im Zuge der Validierung mithilfe des Frameworks unter  \url{https://validator.w3.org/} auf Fehler und Stilbrüche geprüft. Da unterschiedliche Browser verschieden tolerant gegenüber fehlerhaftem HTML-Code sind, resultierten diese Fehler nicht zwingend in falschen Anzeigen und wurden so beim Implementieren übersehen. Einige Warnungen und Fehler sind JSF-internen Prozessen beim Generieren des Outputs geschuldet und außerhalb unserer Kontrolle. Darunter fallen unter anderem:
\begin{itemize}
\item Generieren des obsoleten Attributes \texttt{type='text/javascript'} innerhalb des HTML-Elements \texttt{<script/>} führt zu Warnung.
\item Setzen des Attributes \texttt{name} auf den gleichen Wert des im Facelet-Code angegebenen und ebenfalls im HTML-Code präsenten Attributes \texttt{id} in verschiedensten HTML-Elementen führt zu Warnung.
\item Automatisches Setzen des Attributs \texttt{type='hidden'} des HTML-Elements \texttt{<input/>} führt zu Errors bei referenzierenden labels und anderen Elementen mit Attribut \texttt{for}, die sich mit den Attributoptionen im korrespondierenden Facelet-Element \texttt{h:form} nicht verhindern lassen.
\end{itemize}
Es folgt eine kurze Auflistung der wichtigsten gefundenen (und verbesserten) Fehler im Zuge der Validierung:
\begin{itemize}
\item `element inside span'-Error, aufgetreten durch ein fehlendes Attribut \texttt{layout='block'} in Facelet-Elementen vom Typ \texttt{h:panelGroup} bei der Umschließung von nicht-Text-Inhalten an vielen Stellen.
\item Fehlende Deklaration des Attributes \texttt{lang} im führenden \texttt{html} Start-Tag auf allen Seiten.
\end{itemize}
\subsection{Belastungstest des Systems}
Durch die Automatisierung der Browserinteraktion mittels Selenium, diente die von uns erstellte TestSuite ebenfalls als Grundlage für die Belastungstests. Da sie in der vorherigen Phase bereits erfolgreich durchgelaufen sind, benutzen wir sie nun als Simulation einer Benutzerinteraktion. Hierbei ist zu beachten, dass diese Inputs mit maschineller Präzision ablaufen und deshalb weitaus schneller als ein normaler Mensch mit dem System interagieren. Im Zuge des Belastungstests wurde das System auf der Referenzplattform aufgesetzt und aus dem gleichen Netzwerk von einem Client-Rechner mit annähernd gleicher Hardware gleichzeitig mit XXX Threads der TestSuite belastet. Als Metrik für die Leistung dient hier die durchschnittliche Zeit zwischen Anfrage und Antwort an den Serverrechner. Diese wurde als Mittel über alle Threads errechnet, in denen die künstlichen Wartezeiten von der gesamten Durchlaufzeit einer TestSuite abgezogen, und durch die Anzahl der Anfragen geteilt wurde. Da die kurze Zeitspanne, die der WebDriver zum Befüllen der Formulare und Anklicken der Knöpfe braucht, sowie die Aufbauzeiten der Seite im Browser nicht abgezogen werden, stellt unser Wert eine obere Schranke der durchschnittlichen Request-Response-Zeit dar.

\newpage

%--Testergebnisse--------------------------------------------------------------------------------------------------------------------------------------------------------------------
\section{Testergebnisse}
\sectionauthor{León Liehr}



\newpage

%--Überdeckungswerte--------------------------------------------------------------------------------------------------------------------------------------------------------------
\section{Überdeckungswerte}
\sectionauthor{Ivan Charviakou}

Im Folgenden werden die Überdeckungswerte des Test-Suites tabellarisch angegeben und anschließend interpretiert. 
Insbesondere werden diese Werte zwei Kategorien zugeordnet: Die zur Anweisungsüberdeckung und die zur Zweigüberdeckung. 
Während die Anweisungsüberdeckung die Anzahl an evaluierten Anweisungen misst, beachtet die Zweigüberdeckung die verfolgten Ausführungspfade im Kontrollflussgraphen des Programms.
Somit impliziert eine komplette Zweigüberdeckung eine höhere Anweisungsüberdeckung. 
Allerdings sind im Allgemeinen beide Werte notwendig, um die Vollständigkeit eines Test-Suites zu evaluieren.

\subsection{Whitebox-Tests}

Die Whitebox-Tests testen die einzelnen internen Komponente des Systems, ohne dass das System in ihrer Gesamtheit gestartet sein muss. 
Es werden zu jedem getesteten Paket die Anweisungsüberdeckung und die zur Zweigüberdeckung angegeben. 
Hier werden die Exceptions, DTOs, und Framework-Komponenten wegen ihrer Trivialität bzw. Irrelevanz ausgelassen.

\begin{longtable}{@{}lclclclclclcl@{}}
\toprule
\textbf{Paketname} & \textbf{Anweisungsüberdeckung} & \textbf{Anz. Anweisungen} & \textbf{Prozentsatz} & \textbf{Zweigüberdeckung} & \textbf{Anz. Zweige} & \textbf{Prozentsatz} \\* \midrule
\endfirsthead
\textbf{Paketname} & \textbf{Anweisungsüberdeckung} & \textbf{Anz. Anweisungen} & \textbf{Prozentsatz} & \textbf{Zweigüberdeckung} & \textbf{Anz. Zweige} & \textbf{Prozentsatz} \\* \midrule
\endhead
...model.logic.util 			& 166 		& 838 		& 19\% 		& 2 			& 61 			& 3\% \\
...model.persistence.daos 		& 2580 		& 5951 		& 43\% 		& 71 			& 245 		& 28\% \\
...model.persistence.util 		& 297 		& 1455 		& 20\% 		& 18 			& 62 			& 29\% \\
Insgesamt 						& 3043 		& 8244 		& 37\% 		& 91 			& 368 		& 25\% \\* \bottomrule
\end{longtable}

\subsection{Blackbox-Tests}

Im Gegensatz zu den obigen Whitebox-Tests werden Blackbox-Tests zum Testen des gesamten Systems eingesetzt. Die interne Struktur der Anwendung ist dabei unbekannt. 
Auch hier werden zu jedem getesteten Paket die Anweisungsüberdeckung und die zur Zweigüberdeckung angegeben. 
Für Exceptions und DTOs werden keine Werte berechnet.

\begin{longtable}{@{}lclclclclclcl@{}}
\toprule
\textbf{Paketname} & \textbf{Anweisungsüberdeckung} & \textbf{Anz. Anweisungen} & \textbf{Prozentsatz} & \textbf{Zweigüberdeckung} & \textbf{Anz. Zweige} & \textbf{Prozentsatz} \\* \midrule
\endfirsthead
\textbf{Paketname} & \textbf{Anweisungsüberdeckung} & \textbf{Anz. Anweisungen} & \textbf{Prozentsatz} & \textbf{Zweigüberdeckung} & \textbf{Anz. Zweige} & \textbf{Prozentsatz} \\* \midrule
\endhead
...model.logic.managed\_beans 	& 2487 		& 4373 		& 56\% 		& 124 		& 258 		& 48\% \\
...model.logic.validators 		& 348 		& 755 		& 46\% 		& 26 			& 52 			& 50\% \\
...model.logic.util 			& 696 		& 838 		& 83\% 		& 48 			& 61 			& 78\% \\
...model.logic.converters 		& 110 		& 244 		& 45\% 		& 6 			& 10 			& 60\% \\
...model.persistence.daos 		& 3908 		& 5951 		& 66\% 		& 129 		& 245 		& 53\% \\
...model.persistence.util 		& 677 		& 1455 		& 46\% 		& 25 			& 62 			& 40\% \\
Insgesamt 						& 8226            	& 13616            & 60\%            	& 358            	& 688            	& 52\% \\* \bottomrule
\end{longtable}

\subsection{Alle Tests}

In diesen Abschnitt werden für jeden Paket die Whitebox- und Blackbox-Tests zusammen betrachtet. Exceptions und DTOs werden dabei ignoriert.

\begin{longtable}{@{}lclclclclclcl@{}}
\toprule
\textbf{Paketname} & \textbf{Anweisungsüberdeckung} & \textbf{Anz. Anweisungen} & \textbf{Prozentsatz} & \textbf{Zweigüberdeckung} & \textbf{Anz. Zweige} & \textbf{Prozentsatz} \\* \midrule
\endfirsthead
\textbf{Paketname} & \textbf{Anweisungsüberdeckung} & \textbf{Anz. Anweisungen} & \textbf{Prozentsatz} & \textbf{Zweigüberdeckung} & \textbf{Anz. Zweige} & \textbf{Prozentsatz} \\* \midrule
\endhead
...model.logic.managed\_beans 	& 2487 		& 4373 		& 56\% 		& 124 		& 258 		& 48\% \\
...model.logic.validators 		& 348 		& 755 		& 46\% 		& 26 			& 52 			& 50\% \\
...model.logic.util 			& 696 		& 838 		& 83\% 		& 48 			& 61 			& 78\% \\
...model.logic.converters 		& 110 		& 244 		& 45\% 		& 6 			& 10 			& 60\% \\
...model.persistence.daos 		& 3908 		& 5951 		& 66\% 		& 129 		& 245 		& 53\% \\
...model.persistence.util 		& 677 		& 1455 		& 46\% 		& 25 			& 62 			& 40\% \\
Insgesamt 						& 8226            	& 13616            & 60\%            	& 358            	& 688            	& 52\% \\* \bottomrule
\end{longtable}

\subsection{Interpretation}

Als erstes ist es sofort ersichtlich, dass sich die kombinierten Testergebnisse und Blackbox-Testergebnisse nicht unterscheiden. 
Dies bedeutet insbesondere, dass der Umfang der Blackbox-Tests den Umfang der Whitebox-Tests komplett subsumiert. 
Ein wichtiger Grund, der zu dieser Beobachtung beiträgt, ist die vergleichsweise einfache Logik der gegebenen Anwendung. 
Die Anwendung lässt sich nämlich mit weniger komplexen Komponenten realisieren, die sich entsprechen stark an der Anwendungsnavigation orientieren. 
Dadurch müssen sich die verwendeten Funktionalitäten aus den Testfällen von beiden Testarten stark überschneiden.

Als zweites fallen bei 60\% Anweisungsüberdeckung und 52\% Zweigüberdeckung im Gesamtergebnis vergleichsweise niedrige Überdeckungswerte auf. 
Diese Werte lassen sich zum Teil durch eine stark ausgeprägte Einhaltung der defensiven Programmierung erklären. 
Es werden nämlich in den getesteten Teilen der Anwendungslogik auf Bedingungen geprüft, die in einer normalen Betriebsumgebung selten auftreten. 
Da sich unter Anderem diese Fehlersituationen auch nicht einfach reproduzieren lassen, kann man diese Fälle nicht effektiv testen. 

\newpage

%--Reference---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
\section{Reference}
\sectionauthor{Wario}

\subsection{Nice looking table}
\begin{longtable}{@{}lllll@{}}
\toprule
\textbf{Header 1} & \textbf{Header 2} & \textbf{Header 3} & \textbf{Header 4} & \textbf{Header 5} \\* \midrule
\endfirsthead
%
\endhead
%
Text 1            & Text 2            & Text 3            & Text 4            & Text 5            \\
Text 1            & Text 2            & Text 3            & Text 4            & Text 5            \\* \bottomrule
\end{longtable}

\subsection{Nice looking landscape-table}
\begin{landscape}
\begin{longtable}{@{}lllll@{}}
\toprule
\textbf{Header 1} & \textbf{Header 2} & \textbf{Header 3} & \textbf{Header 4} & \textbf{Header 5} \\* \midrule
\endfirsthead
%
\endhead
%
Text 1            & Text 2            & Text 3            & Text 4            & Text 5            \\
Text 1            & Text 2            & Text 3            & Text 4            & Text 5            \\* \bottomrule
\end{longtable}
\end{landscape}

\newpage

\end{document}


